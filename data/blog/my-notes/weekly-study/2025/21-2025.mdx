---
title: 2025-第二十一周
date: '2025-05-23'
tags: ['WEEKLY-2025']
draft: false
summary: ''
---

`该周报主要为各个地方内容的汇总整理`

<TOCInlineWithSticky toc={props.toc} />

## 技术

### [Next.js 服务器操作是对外公开的 API 端点](https://growl.dev/blog/nextjs-server-actions/)

Next.js 的 Server Actions 实际上是公开的 API 端点，开发者无需自行创建 API 端点即可通过用户交互执行服务器端代码。尽管官方文档强调了安全性，但缺乏详细示例。本文通过实验展示了 Server Actions 的工作原理及潜在风险。

- 🚀 **Server Actions 本质**：是公开的 API 端点，开发者无需手动创建 API 即可执行服务器代码。
- 🔍 **调用方式**：通过 POST 请求和`Next-Action`头调用，端点即触发动作的页面路径。
- 🛠 **实验验证**：使用`curl`发送请求，成功触发服务器端的`console.log`输出。
- 📦 **参数传递**：参数需可序列化为 JSON，通过请求体传递。
- 🔐 **安全隐患**：动作 ID 可通过客户端代码暴露，即使有条件渲染也可能泄露。
- 🛡 **内置安全**：Next.js 提供加密 ID 和死代码消除，但开发者仍需主动添加认证层。
- 📚 **结论**：Server Actions 应像传统 API 一样严格防护，开发者需深入理解框架抽象。

### [直接用 React 就完了](https://justfuckingusereact.com/)

这篇文章以激烈幽默的语言，阐述了在现代 Web 开发中使用框架（如 React）的必要性，并批判了过度依赖纯 HTML 和原生 JavaScript 的固执态度。

- 🚀 **框架的必要性**：现代 Web 应用需要处理复杂交互和动态内容，纯 HTML 已无法满足需求。
- 🔄 **组件化开发**：框架提供可复用的组件，避免重复代码和维护噩梦。
- ⚡ **智能 UI 更新**：框架自动处理 DOM 更新，减少手动操作的繁琐和错误。
- ♿ **可访问性**：框架帮助实现复杂的无障碍功能，而纯 HTML 难以规模化。
- 🛠️ **开发者体验**：框架生态提供高效工具（如热更新、TypeScript），提升开发效率。
- ⚖️ **性能权衡**：框架的“臃肿”是为复杂功能付出的合理代价，可通过优化手段缓解。
- 🤔 **适用场景**：框架适合有复杂状态管理、团队协作或高交互需求的应用，而非简单静态页面。
- 🔥 **核心问题**：滥用工具（如用 React 做静态页）是开发者的问题，而非框架本身。

## 工具

### [GitHub - jellydn/next-validations: NextJS API 验证工具，支持 Zod、Yup、Fastest-Validator、Joi 等](https://github.com/jellydn/next-validations)

next-validations 是一个支持多种验证库的 NextJS API 验证工具，兼容 Zod、Yup、Fastest-Validator、Joi 等，提供灵活的验证模式和 TypeScript 集成。

- 🏠 **项目主页**: [next-validations.productsway.com/](https://next-validations.productsway.com/)
- ✨ **功能亮点**: 支持多种验证库（Zod、Yup、Joi 等），集成 TypeSchema 实现通用适配
- 📦 **安装**: `yarn add next-validations`
- 🔧 **使用示例**: 支持查询参数（query）、请求体（body）等多模式验证

### [openapi-ts](https://github.com/hey-api/openapi-ts)

🚀 OpenAPI 到 TypeScript 的代码生成。生成客户端、SDK、验证器等

### [protobuf-es](https://github.com/bufbuild/protobuf-es)

一个基于 TypeScript 的完整 Protocol Buffers 实现，适用于浏览器和 Node.js 环境。它由 Buf 开发，是目前唯一通过 Protocol Buffers 一致性测试的 JavaScript 库。文章还详细说明了 Protocol Buffers 的核心功能、使用场景、快速入门指南、相关文档、生态工具及许可证信息

## 更新

### [发布 v1.3.0 · unnoq/orpc · GitHub](https://github.com/unnoq/orpc/releases/tag/v1.3.0)

oRPC 发布了 v1.3.0 版本，新增多项功能与改进，包括消息端口适配器、NestJS 集成、多成功响应支持等，并修复了一些错误。

- 🚀 **消息端口适配器** - 支持窗口、标签页、进程间的通信，提供 Electron、浏览器扩展和 Worker Threads 的集成指南。
- 🏗 **NestJS 集成** - 可直接在 NestJS 控制器中实现 oRPC 合约。
- 📊 **多成功响应支持** - 使用 `detailed` 结构定义多个成功响应状态。
- 🔄 **TanStack 流式查询支持** - 新增 `.streamedOptions` 方法，支持在 TanStack Query 中使用 oRPC 事件迭代器。
- 🛠 **实用工具新增** - 提供 `parseFormData` 和 `getIssueMessage` 工具函数，简化表单数据处理。
- 🐞 **错误修复** - 包括依赖更新、查询兼容性改进和空 body 解析行为统一。

## 设计

## AI

## 其他

加尔定律经常被引用："一个有效的复杂系统，总是从一个有效的简单系统进化而来。"

但是，它的推论很少被引用："一个从零开始设计的复杂系统永远不会有效，你必须从一个可以运行的简单系统开始。"

-- Stack Staves

---
