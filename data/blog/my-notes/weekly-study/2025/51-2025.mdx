---
title: 2025-第五十一周
date: '2025-12-04'
tags: ['WEEKLY-2025']
draft: false
summary: ''
---

`该周报主要为各个地方内容的汇总整理`

<TOCInlineWithSticky toc={props.toc} />

## 技术

### [使用 React `<Activity />` 组件预加载视频 | Kent C. Dodds 的 Epic React 系列](https://www.epicreact.dev/use-react-activity-to-preload-a-video-y2lmw)

**原文标题**: [Use React `<Activity />` to preload a video | Epic React by Kent C. Dodds](https://www.epicreact.dev/use-react-activity-to-preload-a-video-y2lmw)

使用 React 的 ``<Activity />` 组件可以预加载视频，解决条件渲染时视频无法预加载的问题，提升用户体验。

- 🎬 **条件渲染导致预加载失效**：当视频元素通过条件渲染（如三元表达式）控制显示时，`preload="auto"` 无法生效，因为视频不在 DOM 中，浏览器无法预加载。
- 🛠️ **Activity 组件解决方案**：React 19 的 `<Activity>` 组件允许视频始终存在于 DOM 中，通过 `mode` 属性控制显示（`'visible'`）或隐藏（`'hidden'`），从而启用预加载功能。
- ⚡ **提升加载性能**：用户点击播放时，视频可立即显示，无需等待加载，尤其有利于慢速网络连接下的体验。
- 🔄 **状态与效果管理**：Activity 在隐藏时会清理副作用（如暂停订阅）、保留组件状态，并在再次显示时恢复，适用于标签页、模态框等交互场景。
- ⏸️ **自动播放控制**：结合自定义 Hook（如 `useAutoplay`）可管理视频的播放与暂停，确保隐藏时暂停、显示时播放，兼顾预加载与播放控制。
- 📚 **扩展应用场景**：Activity 还可用于恢复组件状态、保持 DOM 状态（如表单输入）及提升水合性能，是 React 19 中解决实际问题的强大工具。

## 工具

### [auth-cn](https://github.com/MrUprizing/auth-cn)

Auth-CN 是一个专为 Better Auth 和 shadcn/ui 设计的极简认证组件库，提供可直接安装到项目中的生产级认证界面组件和初始配置，支持通过 shadcn 注册表系统快速集成。

- 🔐 **专为 Better Auth 构建** – 组件库专门适配 Better Auth 认证逻辑，确保安全可靠。
- 🎨 **基于 shadcn/ui 样式** – 采用 shadcn/ui 组件进行视觉设计，风格统一且美观。
- 📦 **一键安装组件** – 通过 shadcn CLI 单条命令即可添加所需认证组件。
- ✨ **完全可定制** – 所有代码均位于用户项目中，支持深度自定义修改。
- 🚀 **生产就绪配置** – 提供开箱即用的认证界面方案，可直接部署使用。
- 🌐 **集成注册表系统** – 支持通过自定义注册表（`@auth-cn`）快速安装组件。

### [TanStack AI](https://tanstack.com/ai/latest)

TanStack AI 是一个开源、多提供商的 AI SDK，提供统一的接口，支持多种 AI 服务，无供应商锁定，具备完整的工具调用和类型安全特性。

- 🚀 **多提供商支持**：支持 OpenAI、Anthropic、Ollama 和 Google Gemini，可在运行时切换提供商，无需代码更改。
- 🔗 **统一 API**：所有提供商使用相同接口，提供独立的函数和自动类型推断，框架无关。
- 🛠️ **工具/函数调用**：自动执行循环，无需手动管理工具，支持类型安全的工具定义和结构化输出。
- 🌐 **完整 AI 生态系统**：纯开源库和标准，无中间商或服务费，直接连接所选 AI 提供商。
- 🖥️ **服务器无关**：支持任何后端服务器，提供 TypeScript、PHP、Python 等库的文档化协议。
- 📱 **客户端无关**：提供原生客户端库或 React、Solid 等框架集成。
- 🔌 **服务无关**：内置支持多种 AI 提供商，并可创建自定义适配器。
- 🧠 **思考与推理**：完整支持思考模型，相关令牌可流式传输到客户端。
- 🎯 **完全类型安全**：端到端的类型安全，覆盖提供商、模型和选项。
- 🔍 **新一代开发工具**：实时显示 AI 连接状态的开发者工具。
- 💚 **纯开源**：无隐藏服务、费用或推销，社区支持直接连接提供商。

### [react-zero-ui](https://github.com/react-zero-ui/core)

React Zero-UI 是一个旨在实现“零运行时、零重新渲染”的 React UI 状态管理库。它通过构建时预渲染所有已知 UI 状态，并利用 `data-*` 属性或 CSS 变量切换状态，从而完全避免 React 重新渲染。库提供 `useUI` 和 `useScopedUI` 钩子来管理全局或局部状态，并与 Tailwind CSS 深度集成，提供极简的开发者体验和优异的性能。

- 🚀 **零重新渲染**：通过纯 CSS 驱动 UI 状态更新，无需 React 重新渲染，实现最快 UI 更新。
- ⚙️ **构建时预渲染**：在构建阶段通过 AST 解析器扫描代码，生成优化的 CSS 和初始 `data-*` 属性，避免运行时开销。
- 🌐 **全局状态钩子**：`useUI` 钩子用于全局状态（如主题），直接修改 `<body>` 的 `data-*` 属性，状态全局可用。
- 🎯 **局部状态钩子**：`useScopedUI` 钩子用于元素级状态，将 `data-*` 属性限制在特定元素内，并生成局部 CSS 选择器。
- 🎨 **CSS 变量支持**：可通过 `CssVar` 选项使用 CSS 变量管理状态，支持全局或局部变量。
- 🧪 **实验性功能**：提供 SSR 安全的 `zeroOnClick` 处理程序，使服务器组件具备客户端交互性，仅增加约 300 字节运行时开销。
- 📦 **极致轻量**：核心体积小于 350 字节，无运行时 CSS 状态开销，集成 Tailwind 变体类，开发者体验友好。
- 🤝 **开源贡献**：鼓励社区贡献，提供问题模板、讨论区和新手任务，采用 MIT 许可协议。

### [rudrodip/nexfaster：在Next.js中集成React Router 以实现客户端路由](https://github.com/rudrodip/nexfaster)

NexFaster 是一个基于 Next.js 15 的极简模板，集成了 React Router 7 以实现纯客户端路由，提供快速、现代化的开发体验。

- 🚀 **快速启动**：通过简单的克隆、安装和运行命令即可开始项目开发。
- 🏗️ **架构设计**：结合 Next.js 与 React Router，所有路由重定向至 `/shell` 页面，由 React Router 在客户端处理导航。
- 📁 **核心文件**：包括路由配置、Shell 页面加载、React Router 主应用及站点配置等关键文件。
- 🔧 **路由扩展**：在 `app.tsx` 中轻松添加新路由，支持多页面应用、受保护路由和嵌套布局。
- 🎨 **功能特性**：具备闪电般客户端路由、零配置集成、Tailwind CSS 样式、深色模式、响应式设计和 TypeScript 支持。
- 🛠️ **技术栈**：使用 Next.js 15、React Router 7、Tailwind CSS、shadcn/ui 组件库、Lucide 图标和 TypeScript。
- 🤝 **开源贡献**：欢迎提交 Pull Request 参与项目改进。
- 📄 **许可证**：采用 BSD Zero Clause 许可证，允许自由使用和分发。

## 更新

## 设计

## AI

### [我们让 Claude 微调了一个开源大语言模型](https://huggingface.co/blog/hf-skills-training)

本文介绍了如何利用 Claude Code 等编码代理，通过 Hugging Face Skills 技能来微调大语言模型。该技能能够自动化处理数据集验证、GPU 选择、训练脚本生成、任务提交与监控等全流程，支持监督微调（SFT）、直接偏好优化（DPO）和群体相对策略优化（GRPO）等方法，并可将训练后的模型转换为 GGUF 格式以供本地部署。

- 🛠️ **安装与配置**：需要 Hugging Face 付费账户和写入权限的 Token，通过插件市场安装 hf-llm-trainer 技能，并配置编码代理（如 Claude Code、Codex 或 Gemini CLI）与 Hugging Face 身份验证连接。
- 🚀 **首次训练流程**：用户只需用自然语言指令（如“微调 Qwen3-0.6B 模型于指定数据集”），代理即自动配置硬件、估算成本并提交任务，训练完成后模型将自动推送至 Hugging Face Hub。
- ⚙️ **训练方法详解**：支持 SFT（适用于高质量示例数据）、DPO（基于偏好数据对齐模型）和 GRPO（基于可验证奖励的强化学习），代理会根据任务自动选择合适方法并验证数据集格式。
- 💻 **硬件与成本管理**：代理根据模型规模推荐 GPU 资源（如小模型用 t4-small，中等模型用 a10g-large 并配合 LoRA 技术），建议先进行低成本测试运行再投入生产训练。
- 📊 **训练监控与调试**：集成 Trackio 实时监控训练指标，代理可随时汇报任务状态，并在出现错误时协助诊断问题（如内存不足或数据格式错误）。
- 🔄 **模型转换与部署**：训练完成后可将模型转换为 GGUF 格式并进行量化，以便通过 llama.cpp 等工具在本地运行，扩展模型的应用场景。

## 其他

### [规范驱动开发的局限性](https://isoform.ai/blog/the-limits-of-spec-driven-development)

本文探讨了在 AI 编程时代重新兴起的“规范驱动开发”（SDD）模式及其局限性。作者指出，尽管详细的事前规范看似能提升 AI 生成代码的可靠性，但由于软件开发本质是动态和探索性的，静态规范难以适应需求变化、无法承载完整上下文，反而可能导致维护负担加重和创造性受限。文章提出，真正的解决方案应是“上下文工程”——即通过持续更新意图、约束和背景知识，使 AI 与团队在迭代中保持对齐，而非依赖僵化的前期规范。

- 📜 **规范维护成本高昂**：编写详细规范耗时巨大，且软件需求常动态变化，保持规范与代码同步会带来沉重的维护负担，甚至加倍开销。
- 🧠 **规范无法承载全部上下文**：规范能描述系统“做什么”，但难以解释“为什么”，而边缘情况、性能问题和用户行为等关键信息往往在实施后才浮现。
- 🎭 **过度规范制造“完整假象”**：详尽的规范带来掌控感，却可能抑制迭代与创新，使开发过程僵化，重回瀑布模型的老路。
- ⚙️ **抽象层次错位**：当前 SDD 工具专注于解析实现细节（如字段定义、函数签名），却忽略了意图、约束和背景等更重要的高层语境。
- 🔄 **有效路径：上下文工程**：AI 编程的关键在于持续维护上下文——从明确意图出发，随需求迭代更新背景知识，让规范跟随代码演进，并保留决策逻辑。
- 🌉 **混合实践才是未来**：对于稳定接口和成熟领域，规范驱动仍可适用；但探索性开发需采用上下文驱动，两者结合方能应对真实项目的复杂需求。
