---
title: 2025-第二十五周
date: '2025-06-16'
tags: ['WEEKLY-2025']
draft: false
summary: ''
---

`该周报主要为各个地方内容的汇总整理`

<TOCInlineWithSticky toc={props.toc} />

## 技术

### [沿着 SVG 路径使用 React 和 Motion 构建无限跑马灯](https://tympanus.net/codrops/2025/06/17/building-an-infinite-marquee-along-an-svg-path-with-react-motion/)

本教程介绍了如何使用 React、Typescript 和 Motion 库创建一个沿自定义 SVG 路径无限滚动的跑马灯效果，并逐步添加交互功能和响应式设计。

- 🛠️ **核心实现**：利用`offset-path`和`offset-distance`属性使元素沿 SVG 路径移动，结合 CSS 动画或 Motion 库实现平滑滚动。  
- 🎨 **路径设计**：通过 Figma 等工具创建自定义路径，使用 SVG 的`d`属性定义路径形状。  
- 🔄 **动画控制**：使用 Motion 的`useMotionValue`、`useAnimationFrame`和`useTransform`实现动态位置更新和循环动画。  
- 📦 **多元素支持**：通过`React.children`和`repeat`属性在路径上重复渲染多个元素，并均匀分布。  
- 🧩 **Z 轴管理**：动态调整元素的`z-index`以确保路径交叉时的正确层叠顺序。  
- 🖱️ **交互增强**：悬停时减速、滚动速度影响动画方向及速度，提升用户体验。  
- 📱 **响应式适配**：通过缩放路径或容器实现不同屏幕尺寸下的适配，推荐使用 D3 库动态调整路径坐标。  
- ⚠️ **性能注意**：路径复杂度和元素数量可能影响性能，需优化路径简洁性。  
- 📚 **资源推荐**：提供 Motion 文档、MDN 指南及相关教程链接供深入学习。  



### [在 ES 模块中使用顶层 await - Matt Smith](https://allthingssmitty.com/2025/06/16/using-await-at-the-top-level-in-es-modules/)

ES2022 引入了顶层 await，允许在 ES 模块的顶层直接使用 await，简化了异步代码的编写，但仅适用于模块环境，需注意执行顺序和循环依赖问题。

- 🚀 **顶层 await 的引入**：ES2022 允许在 ES 模块的顶层使用 await，无需包裹在 async 函数中。  
- 🛠️ **使用场景**：适用于远程配置获取、动态导入、WebAssembly 初始化等异步操作。  
- ⚠️ **注意事项**：仅支持 ES 模块，CommonJS 和传统`<script>`标签不支持。  
- 🔄 **循环依赖风险**：顶层 await 可能导致循环依赖时的运行时错误。  
- 🌐 **环境支持**：现代浏览器和 Node.js v16+ 均支持，需使用`.mjs`或`type="module`。  
- 🚫 **使用限制**：模块执行会暂停，直到 await 完成，可能影响依赖模块。  
- 💡 **最佳实践**：适合应用层代码，避免在公共库中使用以防止阻塞下游。  
- 📌 **尝试方法**：通过`.mjs`文件或`<script type="module">`启用，需 HTTPS 或 localhost 环境。

## 工具

### [modelcontextprotocol/use-mcp](https://github.com/modelcontextprotocol/use-mcp)

一个轻量级的 React Hook，用于连接 Model Context Protocol (MCP) 服务器，简化 AI 系统的认证和工具调用。

- 🦑 **use-mcp**：一个轻量级的 React Hook，用于连接 MCP 服务器，简化认证和工具调用。
- 📦 **安装方式**：支持 npm、pnpm 和 yarn 安装。
- 🔄 **功能特性**：自动连接管理、OAuth 认证流程处理、TypeScript 支持、调试日志等。
- 🚀 **快速开始**：提供简单的 React Hook 接口，支持多种连接状态和工具调用。
- 🔐 **OAuth 回调设置**：支持 React Router 和 Next.js 设置 OAuth 回调端点。
- 📚 **API 参考**：详细说明 `useMcp` Hook 的选项和返回值。

### [piscinajs/piscina: 高效快速的 Node.js 工作线程池实现](https://github.com/piscinajs/piscina)

Piscina 是一个高效的 Node.js 工作线程池实现，专注于提升多线程任务的执行效率。

- 🚀 **高效线程通信**：支持线程间的快速通信，优化任务处理速度。
- 🔧 **灵活任务处理**：支持固定任务和可变任务场景，适应不同需求。
- 📊 **动态线程池大小**：可根据任务负载动态调整线程数量。
- ⏱️ **异步跟踪集成**：提供完整的异步操作跟踪，便于调试和优化。
- 📈 **统计监控**：记录任务运行和等待时间的详细统计信息。
- ❌ **任务取消支持**：允许通过 `AbortController` 或 `EventEmitter` 取消任务。
- 🧠 **内存资源限制**：支持设置内存使用上限，防止资源耗尽。
- 📜 **多模块支持**：兼容 CommonJS、ESM 和 TypeScript 模块。
- 🔄 **自定义任务队列**：允许替换默认的 FIFO 队列为更高效的实现（如 `FixedQueue`）。
- 🐧 **Linux CPU 调度优先级**：通过 `niceIncrement` 调整线程优先级（需安装 `@napi-rs/nice`）。

## 更新

### [CSS 间隙样式新方法  |  Chrome 开发者博客](https://developer.chrome.com/blog/gap-decorations)

Chrome 和 Edge 139 推出了 CSS 间隙装饰功能，为 Flex、Grid 和多列布局中的间隙提供了新的样式解决方案，无需依赖边框或伪元素等传统技巧。

- 🎨 **CSS 间隙装饰功能**：支持通过`column-rule`和新增的`row-rule`属性直接样式化间隙，提升视觉一致性和可维护性。  
- 🚀 **优势**：不影响布局、支持`repeat()`语法、无需额外 DOM 元素，并提供更多自定义属性（如`*rule-break`和`gap-rule-paint-order`）。  
- ⚙️ **试用方式**：在 Chrome 或 Edge 139 中启用实验性功能标志（`edge://flags`或`chrome://flags`），并通过开发者互动演示体验。  
- 📱 **示例演示**：包括汉堡菜单、笔记本布局和每日 CSS 新闻等案例，展示不同场景下的间隙装饰应用。  
- 📢 **反馈征集**：开发者可通过提交 Chromium bug 报告分享使用体验，帮助完善功能（目前暂不支持动画和超多网格轨道场景）。  
- 📜 **许可信息**：内容遵循 Creative Commons 4.0 许可，代码示例采用 Apache 2.0 许可。

